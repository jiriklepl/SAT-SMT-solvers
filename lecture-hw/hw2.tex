\documentclass[a4paper,12pt]{article} % This defines the style of your paper

\usepackage[top = 2.5cm, bottom = 2.5cm, left = 2.5cm, right = 2.5cm]{geometry} 

\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}

\usepackage{multirow} % Multirow is for tables with multiple rows within one cell.
\usepackage{booktabs} % For even nicer tables.

\usepackage{amsmath} 
\usepackage{graphicx}

\newtheorem{definition}{Definition}
\newtheorem{observation}{Observation}[definition]

\usepackage{setspace}
\setlength{\parindent}{0in}
\setlength{\parskip}{.5em}

\begin{document}

\begin{center}
    {\Large \bf Homework 2}
    \vspace{2mm}

    {\bf Jiří Klepl}

\end{center}

\vspace{0.4cm}

\begin{quote}
    (10 points) Let $\varphi$ be a CNF and $C \in \varphi$ a clause in $\varphi$ and $l \in C$ a literal in $C$. We say that $C$ is
blocked by literal $l$ if for every other clause $D \in \varphi$ which contains $\neg l$ we have that $Res_l(C, D)$ is a
tautology (i.e. there is another literal $l_D \in D$ such that $\neg l_D \in C$). Show that $\varphi$ is equisatisfiable with
$\varphi \setminus \{C\}$, i.e. $\varphi$ is satisfiable if and only if $\varphi \setminus \{C\}$ is satisfiable.
\end{quote}

We can rewrite $\varphi$ to $C \wedge \varphi_D \wedge \varphi_r$ where $\varphi_D$ contains the clauses $D$ and $\varphi_r$ the clauses of $\varphi$ that don't contain neither $l$ nor $\neg l$.


It holds that $C \wedge \varphi_D \wedge \varphi_r \equiv (\neg l \to C') \wedge (l \to \varphi_D') \wedge \varphi_r$ where $C'$ is the clause $C$ after removing the literal $l$ and $\varphi_D'$ consist of the clauses $D$ after removing the literal $\neg l$.

And then, since neither of $C'$, $\varphi_D'$, nor $\varphi_r$ contain either of the literals $l$ and $\neg l$, it holds that $(\neg l \to C') \wedge (l \to \varphi_D') \wedge \varphi_r \equiv (C' \vee \varphi_D') \wedge \varphi_r$.

Then, from distributivity of $\vee$ and $\wedge$, we get $(C' \vee \varphi_D') \wedge \varphi_r \equiv (\bigwedge \{C' \vee D' | D' \in \varphi_D'\}) \wedge \varphi_r = (\bigwedge \{Res_l(C \vee D) | D \in \varphi_D\}) \wedge \varphi_r$ (the equality follows the definition of $C'$ and $\varphi_D'$ from $C$ and $\varphi_D$).

The assignment declares that $Res_l(C, D)$ is a tautology for every $D \in \varphi_D$, and thus $(\bigwedge \{Res_l(C \vee D) | D \in \varphi_D\}) \wedge \varphi_r \equiv \varphi_r$.

And, since we proofed that $\varphi = C \wedge \varphi_D \wedge \varphi_r \equiv \varphi_r$, it follows that $\varphi \equiv \varphi \setminus \{C\} = \varphi_D \wedge \varphi_r$, otherwise $\varphi$ and $\varphi_r$ wouldn't be equivalent.

\end{document}